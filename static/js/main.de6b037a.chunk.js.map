{"version":3,"sources":["constants/api.js","context/user-context.js","hooks/useFetch.js","components/Alert/Alert.js","components/Button/Button.js","components/Container/Container.js","components/Home/Home.js","components/ContentContainer/ContentContainer.js","utils/formValidation.js","components/Input/Input.js","components/Form/Form.js","components/LoginPage/LoginPage.js","components/Nav/Nav.js","components/PrivateRoute/PrivateRoute.js","components/Profile/Profile.js","components/Footer/Footer.js","components/RegistrationPage/RegistrationPage.js","App.js","index.js"],"names":["API_BASE_URL","FetchOptions","method","headers","credentials","body","this","UserContext","React","createContext","UserProvider","children","useState","user","setUser","userDetails","setUserDetails","value","isLoggedIn","setIsLoggedIn","Provider","fetchOptions","useFetch","data","setData","url","setUrl","getOptions","options","setOptions","error","setError","isLoading","setIsLoading","cache","useRef","useEffect","a","current","fetch","response","json","ok","message","fetchData","Alert","className","Button","title","to","history","useHistory","onClick","push","Container","Home","logout","useContext","handleLogout","URL","ContentContainer","formValidation","email","password","repeatPassword","formType","alerts","test","type","validateEmail","validatePassword","validatePasswordRepeat","forEach","validation","Input","handleOnChange","name","warning","warningClass","Boolean","onChange","e","Form","callback","inputValues","setInputValues","setAlerts","login","location","useLocation","preventDefault","target","prevState","handleSubmit","Object","keys","length","validationAlerts","JSON","stringify","undefined","pathname","onSubmit","noValidate","lastName","LoginPage","Nav","PrivateRoute","Component","component","rest","render","Profile","getUserDetails","role","Footer","href","rel","alt","class","RegistartionPage","registered","setRegistered","App","basename","process","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.de6b037a.chunk.js","sourcesContent":["// export const API_BASE_URL = 'http://localhost:3000/';\r\nexport const API_BASE_URL = 'https://pharmacy-rest.herokuapp.com/';\r\n\r\nexport class FetchOptions {\r\n\tconstructor(\r\n\t\tmethod = 'GET',\r\n\t\theaders = { 'Content-Type': 'application/json' },\r\n\t\tcredentials = 'include',\r\n\t\tbody = null\r\n\t) {\r\n\t\tthis.method = method;\r\n\t\tthis.headers = headers;\r\n\t\tthis.credentials = credentials;\r\n\t\tthis.body = body;\r\n\t}\r\n\r\n\tgetOptions() {\r\n\t\treturn {\r\n\t\t\tmethod: this.method,\r\n\t\t\theaders: this.headers,\r\n\t\t\tcredentials: this.credentials,\r\n\t\t\tbody: this.body,\r\n\t\t};\r\n\t}\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nexport const UserContext = React.createContext();\r\n\r\nconst UserProvider = ({ children }) => {\r\n\tconst [user, setUser] = useState(null);\r\n\tconst [userDetails, setUserDetails] = useState(null);\r\n\tconst [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n\tconst value = { user, setUser, isLoggedIn, setIsLoggedIn, userDetails, setUserDetails };\r\n\r\n\treturn <UserContext.Provider value={value}>{children}</UserContext.Provider>;\r\n};\r\n\r\nexport default UserProvider;\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport { FetchOptions } from '../constants/api';\r\n\r\nconst fetchOptions = new FetchOptions();\r\n\r\nexport const useFetch = () => {\r\n\tconst [data, setData] = useState(null);\r\n\tconst [url, setUrl] = useState(null);\r\n\tconst [options, setOptions] = useState(fetchOptions.getOptions());\r\n\tconst [error, setError] = useState(null);\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tconst cache = useRef({});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!url) return;\r\n\r\n\t\tconst fetchData = async () => {\r\n\t\t\tsetIsLoading(true);\r\n\r\n\t\t\tif (cache.current[url]) return;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await fetch(url, options);\r\n\t\t\t\tconst data = await response.json();\r\n\r\n\t\t\t\tif (data.ok) {\r\n\t\t\t\t\tcache.current[url] = data;\r\n\t\t\t\t\tsetData(data);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetError(data.message);\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tsetError(e.message);\r\n\t\t\t}\r\n\r\n\t\t\tsetIsLoading(false);\r\n\t\t};\r\n\r\n\t\tfetchData();\r\n\t}, [url, options]);\r\n\r\n\tconst setFetch = (url, options) => {\r\n\t\tsetUrl(url);\r\n\r\n\t\tif (options) {\r\n\t\t\tsetOptions(options);\r\n\t\t}\r\n\t};\r\n\r\n\treturn [{ data, isLoading, error }, setFetch];\r\n};\r\n","import React from 'react';\r\n\r\nimport './Alert.scss';\r\n\r\nconst Alert = ({ message }) => {\r\n\treturn (\r\n\t\t<div className='alert'>\r\n\t\t\t<p className='alert__message'>{message}</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Alert;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router';\r\n\r\nimport './Button.scss';\r\n\r\nconst Button = ({ title, to }) => {\r\n\tconst history = useHistory();\r\n\r\n\treturn (\r\n\t\t<button className='button' onClick={() => history.push(to)}>\r\n\t\t\t{title}\r\n\t\t</button>\r\n\t);\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\n\r\nimport './Container.scss';\r\n\r\nconst Container = ({ children }) => {\r\n\treturn <main className='container'>{children}</main>;\r\n};\r\n\r\nexport default Container;\r\n","import React, { useContext, useEffect } from 'react';\r\n\r\nimport { API_BASE_URL, FetchOptions } from '../../constants/api';\r\nimport { UserContext } from '../../context/user-context';\r\nimport { useFetch } from '../../hooks/useFetch';\r\nimport Alert from '../Alert/Alert';\r\n\r\nimport Button from '../Button/Button';\r\nimport Container from '../Container/Container';\r\n\r\nimport './Home.scss';\r\n\r\nconst Home = () => {\r\n\tconst [{ data, error }, logout] = useFetch();\r\n\r\n\tconst { isLoggedIn, setIsLoggedIn, setUser } = useContext(UserContext);\r\n\r\n\tconst handleLogout = async () => {\r\n\t\tconst URL = `${API_BASE_URL}auth/logout`;\r\n\r\n\t\tconst fetchOptions = new FetchOptions();\r\n\r\n\t\tlogout(URL, fetchOptions.getOptions());\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (data?.ok) {\r\n\t\t\tsetIsLoggedIn(false);\r\n\t\t\tsetUser(null);\r\n\t\t}\r\n\t}, [data, setIsLoggedIn, setUser]);\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<div className='home'>\r\n\t\t\t\t<div className='home__container'>\r\n\t\t\t\t\t{error && <Alert message={error} />}\r\n\t\t\t\t\t<h2 className='home__container__title'>\r\n\t\t\t\t\t\t{!isLoggedIn ? 'Sign in' : 'Already signed in'}\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t\t{!isLoggedIn ? (\r\n\t\t\t\t\t\t<Button title='sign in' to='login' />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<button className='button' onClick={() => handleLogout()}>\r\n\t\t\t\t\t\t\tlog out\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='home__container'>\r\n\t\t\t\t\t<h2 className='home__container__title'>Don't have an account?</h2>\r\n\t\t\t\t\t<Button title='register' to='register' />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\n\r\nimport './ContentContainer.scss';\r\n\r\nconst ContentContainer = ({ children }) => {\r\n\treturn <div className='content-container'>{children}</div>;\r\n};\r\n\r\nexport default ContentContainer;\r\n","const validateEmail = (email) => {\r\n\tlet message = '';\r\n\r\n\tif (!email) {\r\n\t\tmessage = 'Insert email';\r\n\t} else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(email)) {\r\n\t\tmessage = 'Invalid email address';\r\n\t}\r\n\r\n\treturn { message, type: 'email' };\r\n};\r\n\r\nconst validatePassword = (password) => {\r\n\tlet message = '';\r\n\r\n\tif (!password) {\r\n\t\tmessage = 'Insert password';\r\n\t}\r\n\r\n\treturn { message, type: 'password' };\r\n};\r\n\r\nconst validatePasswordRepeat = (password, repeatPassword) => {\r\n\tlet message = '';\r\n\r\n\tif (!repeatPassword) {\r\n\t\tmessage = 'Repeat password';\r\n\t} else if (password !== repeatPassword) {\r\n\t\tmessage = 'Passwords must be the same';\r\n\t}\r\n\r\n\treturn { message, type: 'repeatPassword' };\r\n};\r\n\r\nexport const formValidation = (email, password, repeatPassword, formType) => {\r\n\tconst alerts = {};\r\n\r\n\tconst emailValidation = validateEmail(email);\r\n\tconst passwordValidation = validatePassword(password);\r\n\tconst repeatPasswordValidation =\r\n\t\tformType === 'register' ? validatePasswordRepeat(password, repeatPassword) : null;\r\n\r\n\tconst validationArray = [emailValidation, passwordValidation, repeatPasswordValidation];\r\n\r\n\tvalidationArray.forEach((validation) =>\r\n\t\tvalidation && validation.message ? (alerts[validation.type] = validation.message) : null\r\n\t);\r\n\r\n\treturn alerts;\r\n};\r\n","import React from 'react';\r\nimport Alert from '../Alert/Alert';\r\n\r\nimport './Input.scss';\r\n\r\nconst Input = ({ handleOnChange, value, type, name, title, warning }) => {\r\n\tconst warningClass = Boolean(warning) ? 'input--warning' : '';\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className='input__container'>\r\n\t\t\t\t<label className='label'>{title || name}</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName={`input ${warningClass}`}\r\n\t\t\t\t\tonChange={(e) => handleOnChange(e)}\r\n\t\t\t\t\tvalue={value || ''}\r\n\t\t\t\t\ttype={type}\r\n\t\t\t\t\tname={name}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t{Boolean(warning) && <Alert message={warning} />}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Input;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router';\r\n\r\nimport { API_BASE_URL, FetchOptions } from '../../constants/api';\r\nimport { UserContext } from '../../context/user-context';\r\nimport { useFetch } from '../../hooks/useFetch';\r\nimport { formValidation } from '../../utils/formValidation';\r\n\r\nimport Alert from '../Alert/Alert';\r\nimport Input from '../Input/Input';\r\n\r\nimport './Form.scss';\r\n\r\nconst Form = ({ type, callback }) => {\r\n\tconst [inputValues, setInputValues] = useState({});\r\n\tconst [alerts, setAlerts] = useState({});\r\n\r\n\tconst [{ data, isLoading, error }, login] = useFetch();\r\n\r\n\tconst location = useLocation();\r\n\r\n\tconst { setUser, setIsLoggedIn } = useContext(UserContext);\r\n\r\n\tconst handleOnChange = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst { value, name } = e.target;\r\n\r\n\t\tsetInputValues((prevState) => ({ ...prevState, [name]: value }));\r\n\t};\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst { email, password, repeatPassword } = inputValues;\r\n\r\n\t\tif (!Boolean(Object.keys(inputValues).length)) {\r\n\t\t\tsetAlerts({ message: 'Fill up form before submit' });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst validationAlerts = formValidation(email, password, repeatPassword, type);\r\n\r\n\t\tif (Boolean(Object.keys(validationAlerts).length)) {\r\n\t\t\tsetAlerts(validationAlerts);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst body = JSON.stringify(inputValues);\r\n\r\n\t\tconst fetchOptions = new FetchOptions('POST', undefined, undefined, body);\r\n\r\n\t\tconst URL =\r\n\t\t\ttype === 'register'\r\n\t\t\t\t? `${API_BASE_URL}user${location.pathname}`\r\n\t\t\t\t: `${API_BASE_URL}auth${location.pathname}`;\r\n\r\n\t\tlogin(URL, fetchOptions);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (data?.user) {\r\n\t\t\tsetUser(data.user);\r\n\t\t\tsetIsLoggedIn(true);\r\n\t\t}\r\n\r\n\t\tif (callback && data?.ok) {\r\n\t\t\tcallback(true);\r\n\t\t}\r\n\r\n\t\tif (error) {\r\n\t\t\tsetAlerts({ message: error });\r\n\t\t}\r\n\t}, [data, callback, error, setIsLoggedIn, setUser]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<form className='form' onSubmit={(e) => handleSubmit(e)} noValidate>\r\n\t\t\t\t<Input\r\n\t\t\t\t\thandleOnChange={handleOnChange}\r\n\t\t\t\t\tvalue={inputValues.email || ''}\r\n\t\t\t\t\ttype='email'\r\n\t\t\t\t\tname='email'\r\n\t\t\t\t\twarning={alerts.email || ''}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\thandleOnChange={handleOnChange}\r\n\t\t\t\t\tvalue={inputValues.password || ''}\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tname='password'\r\n\t\t\t\t\twarning={alerts.password || ''}\r\n\t\t\t\t/>\r\n\t\t\t\t{type === 'register' ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\thandleOnChange={handleOnChange}\r\n\t\t\t\t\t\t\tvalue={inputValues.repeatPassword || ''}\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tname='repeatPassword'\r\n\t\t\t\t\t\t\ttitle='repeat password'\r\n\t\t\t\t\t\t\twarning={alerts.repeatPassword || ''}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\thandleOnChange={handleOnChange}\r\n\t\t\t\t\t\t\tvalue={inputValues.name || ''}\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\thandleOnChange={handleOnChange}\r\n\t\t\t\t\t\t\tvalue={inputValues.lastName || ''}\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tname='lastName'\r\n\t\t\t\t\t\t\ttitle='last name'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<button className='form__button' type='submit'>\r\n\t\t\t\t\t{type === 'register' ? 'Register' : 'Log In'}\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t\t{Boolean(alerts.message) && <Alert message={alerts.message} />}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Form;\r\n","import React, { useContext } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { UserContext } from '../../context/user-context';\r\nimport Button from '../Button/Button';\r\nimport Container from '../Container/Container';\r\nimport ContentContainer from '../ContentContainer/ContentContainer';\r\nimport Form from '../Form/Form';\r\n\r\nimport './LoginPage.scss';\r\n\r\nconst LoginPage = () => {\r\n\tconst { isLoggedIn } = useContext(UserContext);\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t{isLoggedIn && <Redirect to='/profile' />}\r\n\t\t\t<ContentContainer>\r\n\t\t\t\t<h1 className='content-container__title'>Log in</h1>\r\n\t\t\t\t<Form />\r\n\t\t\t</ContentContainer>\r\n\t\t\t<Button title='home' to='/' />\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default LoginPage;\r\n","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserContext } from '../../context/user-context';\r\n\r\nimport './Nav.scss';\r\n\r\nconst Nav = () => {\r\n\tconst { user } = useContext(UserContext);\r\n\r\n\treturn (\r\n\t\t<nav className='nav'>\r\n\t\t\t<div className='nav__menu'>\r\n\t\t\t\t<i className='fas fa-bars'></i>\r\n\t\t\t</div>\r\n\t\t\t<div className='nav__user'>\r\n\t\t\t\t<p>{!user ? 'No user logged in' : `Logged as ${user.name || user.email}`}</p>\r\n\t\t\t\t<Link to='/profile'>\r\n\t\t\t\t\t<i className='fas fa-user'></i>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t);\r\n};\r\n\r\nexport default Nav;\r\n","import React, { useContext } from 'react';\r\nimport { Redirect, Route } from 'react-router';\r\nimport { UserContext } from '../../context/user-context';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n\tconst { isLoggedIn } = useContext(UserContext);\r\n\r\n\treturn (\r\n\t\t<Route\r\n\t\t\trender={() => {\r\n\t\t\t\tif (!isLoggedIn) {\r\n\t\t\t\t\treturn <Redirect to='/login' />;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn <Component {...rest} />;\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router';\r\nimport { useFetch } from '../../hooks/useFetch';\r\nimport Button from '../Button/Button';\r\nimport Container from '../Container/Container';\r\n\r\nimport { API_BASE_URL } from '../../constants/api';\r\n\r\nimport './Profile.scss';\r\n\r\nconst Profile = () => {\r\n\tconst [userDetails, setUserDetails] = useState(null);\r\n\tconst location = useLocation();\r\n\r\n\tconst URL = `${API_BASE_URL}user${location.pathname}`;\r\n\r\n\tconst [{ data, error }, getUserDetails] = useFetch();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (error) return;\r\n\r\n\t\tgetUserDetails(URL);\r\n\r\n\t\tif (data?.ok) {\r\n\t\t\tsetUserDetails(data.user);\r\n\t\t}\r\n\t}, [error, getUserDetails, URL, data]);\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<div className='profile'>\r\n\t\t\t\t{error}\r\n\t\t\t\t{userDetails && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<h1 className='profile__title'>Profile</h1>\r\n\t\t\t\t\t\t<p className='profile__user'>\r\n\t\t\t\t\t\t\t{userDetails.name || 'NO'} {userDetails.lastName || 'NAME'}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className='profile__avatar'>\r\n\t\t\t\t\t\t\t<div className='profile__role'>{userDetails.role[0]}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p>{userDetails.email}</p>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Button title='home' to='/' />\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\n\r\nimport './Footer.scss';\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<div className='footer'>\r\n\t\t\t<p>By Piotr Dyrda</p>\r\n\t\t\t<div className='footer__links'>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref='https://www.linkedin.com/in/dyrda-piotr/'\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\trel='noreferrer'\r\n\t\t\t\t\t\talt='github-logo'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i class='fab fa-linkedin'></i>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<a href='https://github.com/dyrpit' target='_blank' rel='noreferrer' alt='github-logo'>\r\n\t\t\t\t\t\t<i class='fab fa-github'></i>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useState } from 'react';\r\n\r\nimport Button from '../Button/Button';\r\nimport Container from '../Container/Container';\r\nimport ContentContainer from '../ContentContainer/ContentContainer';\r\nimport Form from '../Form/Form';\r\n\r\nimport './RegistrationPage.scss';\r\n\r\nconst RegistartionPage = () => {\r\n\tconst [registered, setRegistered] = useState(false);\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<ContentContainer>\r\n\t\t\t\t{registered ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<h1 className='content-container__title'>Hurray you have successfully registered</h1>\r\n\t\t\t\t\t\t<Button title='log in' to='/login' />\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<h1 className='content-container__title'>sign in</h1>\r\n\t\t\t\t\t\t<Form type='register' callback={setRegistered} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</ContentContainer>\r\n\t\t\t<Button title='home' to='/' />\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default RegistartionPage;\r\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Home from './components/Home/Home';\nimport LoginPage from './components/LoginPage/LoginPage';\nimport Nav from './components/Nav/Nav';\nimport PrivateRoute from './components/PrivateRoute/PrivateRoute';\nimport Profile from './components/Profile/Profile';\nimport UserProvider from './context/user-context';\nimport Footer from './components/Footer/Footer';\nimport RegistartionPage from './components/RegistrationPage/RegistrationPage';\n\nfunction App() {\n\treturn (\n\t\t<UserProvider>\n\t\t\t<Router basename={process.env.PUBLIC_URL}>\n\t\t\t\t<Nav />\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path='/' component={Home} />\n\t\t\t\t\t<Route path='/login' component={LoginPage} />\n\t\t\t\t\t<Route path='/register' component={RegistartionPage} />\n\t\t\t\t\t<PrivateRoute path='/profile' component={Profile} />\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t\t<Footer />\n\t\t</UserProvider>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}